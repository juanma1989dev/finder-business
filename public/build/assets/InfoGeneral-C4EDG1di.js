import{u as S,j as e}from"./app-DRnaFo71.js";import{a as w}from"./card-B-UQiFez.js";import{I as _}from"./input-JJqCWXCM.js";import{L as l}from"./label-DGwXmTyf.js";import{S as k}from"./switch-L6rZLytQ.js";import{T as B}from"./textarea-Dd0X32SM.js";import{m as T}from"./dashboard-layout-B63ifu4J.js";import{y as c}from"./index-Dgc8qQOq.js";import{LayoutBusinessModules as L}from"./LayoutBusinessModules-CvCwOIjn.js";import{useToggleList as p,SectionHeader as E,CardBase as I,Field as d,FeatureSection as u,AvailabilitySection as z}from"./index-BMssrhx5.js";import{S as D}from"./shield-check-DZxu-W88.js";import{L as F,C as A,W as G}from"./utils-B8V9t6OR.js";import"./app-_ZmoGD8T.js";import"./index-kNrJbDCw.js";import"./button-oOZJaIDN.js";import"./index-DAOhb2hJ.js";import"./clsx-COCWedHH.js";import"./createLucideIcon-8cOpsgex.js";import"./index-CDS2P9IT.js";import"./index-BsufrqBI.js";import"./index-ByFY5vBa.js";import"./index-DXUyvkal.js";import"./index-_ty5M1Kx.js";import"./index-CJG-LqGM.js";import"./x-BkmaQkV6.js";import"./index-CAsWk8_c.js";import"./dropdown-menu-DAxWnPxA.js";import"./index-BqgYRoRh.js";import"./index-BCw_eWvc.js";import"./index-CVASjcgI.js";import"./house-BvvIOFlQ.js";import"./shopping-bag-D6HcC1f4.js";import"./loader-circle-DK9NHL9l.js";import"./badge-BTmI_Bt7.js";import"./plus-D6693a4f.js";import"./arrow-right-FvoTZcqC.js";import"./circle-alert-DLeoRx40.js";import"./printer-CQ4wc93D.js";import"./package-PXuZgzM8.js";import"./star-C33ZpR1w.js";import"./trash-2-B_LJmt8F.js";import"./package-search-CwpuKR2z.js";import"./shopping-cart-CMRXSugC.js";import"./triangle-alert-BPl7zri6.js";function Te({business:a,categories:g,payments:h,amenities:x}){const f=T({text:"Información general",url:"#"}),i="mb-1 block text-[10px] font-semibold uppercase tracking-widest text-gray-500 leading-tight",o="h-9 w-full rounded-lg border-purple-200 bg-white px-3 text-sm text-gray-700 shadow-sm transition focus:border-purple-600 focus:ring-1 focus:ring-purple-600/20 font-normal",j=S({name:a?.name??"",phone:a?.phone??"",slogan:a?.slogan??"",description:a?.description??"",category_id:a?.category_id??"",amenities:(a?.amenities??[]).map(s=>Number(s.id)),payments:(a?.payments??[]).map(s=>Number(s.id)),schedules:a?.schedules??[],tags:"",use_whatsapp:a?.use_whatsapp??!1}),{data:t,setData:r,transform:H,put:b,processing:N}=j,v=()=>{b(`/dashboard/business/${a.id}-${a.slug}/info-general/`,{preserveScroll:!0,onSuccess:()=>c.success("Módulo actualizado"),onError:()=>c.error("Error al guardar")})},y=(x??[]).filter(s=>!!s.id).map(s=>({id:Number(s.id),name:s.name})),C=(h??[]).filter(s=>!!s.id).map(s=>({id:Number(s.id),name:s.name})),n=p(t.amenities,s=>r("amenities",s)),m=p(t.payments,s=>r("payments",s));return e.jsxs(L,{titleHead:"Findy Business",headerTitle:a?.name||"Cargando…",headerDescription:"Gestión técnica de metadatos y disponibilidad.",buttonText:"Guardar cambios",icon:D,onSubmit:v,processing:N,breadcrumbs:f,children:[e.jsxs("div",{className:"space-y-6 lg:col-span-8",children:[e.jsxs("section",{className:"mb-4",children:[e.jsx(E,{icon:e.jsx(F,{size:14,className:"text-purple-700"}),title:"Información general"}),e.jsx(I,{className:"rounded-lg border-purple-200 bg-purple-50/10 shadow-sm",children:e.jsx(w,{className:"p-3",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(d,{label:"Nombre comercial",value:t.name,onChange:s=>r("name",s),labelClass:i,inputClass:o}),e.jsxs("div",{children:[e.jsx(l,{className:i,children:"Categoría"}),e.jsxs("select",{value:t.category_id,onChange:s=>r("category_id",s.target.value),className:`${o} appearance-none`,children:[e.jsx("option",{value:"",children:"Seleccionar…"}),g.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(d,{label:"Eslogan o frase publicitaria",value:t.slogan,onChange:s=>r("slogan",s),full:!0,labelClass:i,inputClass:o})}),e.jsx("div",{className:"sm:col-span-2",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(l,{className:i,children:"Teléfono de contacto"}),e.jsx(_,{value:t.phone,onChange:s=>r("phone",s.target.value),type:"tel",maxLength:10,placeholder:"Ej: 5551234567",className:o})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(l,{className:i,children:"WhatsApp Business"}),e.jsxs("div",{className:"flex h-9 w-full items-center justify-between rounded-lg border border-purple-200 bg-purple-50 px-3 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-[10px] leading-tight font-semibold tracking-tight text-purple-700 uppercase",children:t.use_whatsapp?"Habilitado":"Deshabilitado"})}),e.jsx(k,{checked:t.use_whatsapp,onCheckedChange:s=>r("use_whatsapp",s),className:"scale-75 transition-transform active:scale-95 data-[state=checked]:bg-purple-600"})]})]})]})}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(l,{className:i,children:"Descripción detallada"}),e.jsx(B,{value:t.description,onChange:s=>r("description",s.target.value),className:"min-h-[100px] rounded-lg border-purple-200 p-3 text-sm font-normal shadow-sm focus:border-purple-600 focus:ring-1 focus:ring-purple-600/20"})]})]})})})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsx(u,{title:"Amenidades",icon:e.jsx(A,{size:14,className:"text-purple-600"}),items:y,toggle:n.toggle,isSelected:n.isSelected}),e.jsx(u,{title:"Cobro",icon:e.jsx(G,{size:14,className:"text-purple-700"}),items:C,toggle:m.toggle,isSelected:m.isSelected})]})]}),e.jsx("div",{className:"space-y-6 lg:col-span-4",children:e.jsx(z,{schedules:t.schedules,setSchedules:s=>r("schedules",s)})})]})}export{Te as default};
