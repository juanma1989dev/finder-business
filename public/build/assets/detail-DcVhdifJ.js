import{r as u,b as g,j as e,L as f,a as j}from"./app-DkDB_8CB.js";import{T as v,a as N,b as m,c as d}from"./tabs-Nynu6wNl.js";import{M as w}from"./main-layout-BtHA0Npo.js";import{y as c}from"./index-CVeAyMPK.js";import{InfoBusinessTab as b}from"./info-tab-BJuH3SFt.js";import{ProductsBussinessTab as y}from"./products-tab-FIpmplzx.js";import{A as k}from"./shopping-bag-DxRCLEcD.js";import{d as C,D,j as L,k as A,l as E,m as $,S as _}from"./utils-CfzZyKvo.js";import{H as S}from"./clsx--lBOLjvq.js";import{C as T}from"./package-BU1OvDV9.js";import{M}from"./star-BJgUuVE2.js";import{I}from"./shield-check-DJA5_I73.js";import"./app-CGfczU0M.js";import"./index-Cybp8v3T.js";import"./index-tO81QAJn.js";import"./index-EZTf3Dmx.js";import"./index-CNzvj9uQ.js";import"./index-CcpYGMtr.js";import"./x-BURC3Ppq.js";import"./createLucideIcon-a_qB-A08.js";import"./house-BKZxKSjy.js";import"./loader-circle-CkAJu07Z.js";import"./CartFloatButton-BfPLGnx5.js";import"./shopping-cart-Cxh0H1UY.js";import"./drawer-cart-CdoLFGTu.js";import"./trash-2-BdFRsBj0.js";import"./plus-Cz8WvdQW.js";import"./arrow-right-BkUc17Rt.js";import"./ProductConfigModal-DEJI_ZdZ.js";import"./package-search-DrzKzZru.js";import"./circle-alert-BM5BSp8j.js";import"./printer-DRzafObI.js";import"./triangle-alert-CccrTqft.js";const P=a=>{const l="Horario no disponible";if(!a?.schedules||!Array.isArray(a.schedules)||a.schedules.length===0)return l;const s=new Date,o=s.getDay()===0?7:s.getDay(),r=a.schedules.find(i=>i.day==o);return r?`${r.open} hrs - ${r.close} hrs`:l};function ge({business:a,favorite:l}){const[s,o]=u.useState(l),{auth:r}=g().props,i=r.user,n={payments:a.payments.map(t=>t.name).join(" | "),schedul:P(a)},p=()=>{navigator.clipboard.writeText(`${window.location.origin}/detail/${a.id}`).then(()=>c.success("Enlace copiado al portapapeles")).catch(()=>c.error("Error al copiar"))},x=()=>{if(!i)return c.info("Inicia sesión para guardar favoritos");const t=!s;o(t),j.post("/business/detail/set-favorite",{id_user:i.id,id_business:a.id,favorite:t},{onError:()=>o(!t)})},h=t=>t?"52"+t.trim():"";return e.jsx(w,{children:e.jsx("div",{className:"min-h-screen bg-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-3 py-4 sm:px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-12",children:[e.jsx("div",{className:"lg:col-span-4 xl:col-span-4",children:e.jsxs("div",{className:"space-y-4 lg:sticky lg:top-20",children:[e.jsxs("div",{className:"relative h-48 w-full overflow-hidden rounded-lg border border-purple-200 shadow-sm sm:h-64 lg:aspect-[4/3] lg:h-auto",children:[e.jsx("img",{src:a.cover_image?`/storage/${a.cover_image}`:`/images/${a.category?.image}`,className:"h-full w-full object-cover transition-transform duration-500 hover:scale-105",alt:a.name}),e.jsxs("div",{className:"absolute inset-x-3 top-3 flex justify-between",children:[e.jsx(f,{href:"/",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-gray-700 shadow-sm backdrop-blur-sm transition-all active:scale-95",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:p,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-gray-700 shadow-sm backdrop-blur-sm transition-all active:scale-95",children:e.jsx(C,{className:"h-4 w-4"})}),i&&e.jsx("button",{onClick:x,className:`flex h-9 w-9 items-center justify-center rounded-lg shadow-sm backdrop-blur-sm transition-all active:scale-95 ${s?"bg-purple-600 text-white":"bg-white/90 text-gray-700"}`,children:e.jsx(S,{className:`h-4 w-4 ${s?"fill-current":""}`})})]})]})]}),e.jsxs("div",{className:"space-y-2 p-1",children:[e.jsxs("div",{className:"mb-3 flex flex-col gap-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"rounded-md bg-purple-50 px-2 py-0.5 text-[10px] font-semibold tracking-wide text-purple-700 uppercase",children:a.category?.name})}),e.jsx("h1",{className:"text-xl font-semibold tracking-tight text-purple-800 sm:text-2xl",children:a.name})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[e.jsx("div",{className:"mr-3 text-amber-600",children:e.jsx(T,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm leading-tight font-semibold text-amber-700 uppercase",children:"Horario de referencia(Puede variar)"}),e.jsx("p",{className:"text-sm font-normal text-amber-700",children:n.schedul}),e.jsxs("p",{className:"mt-3 flex items-center gap-2 text-sm font-normal text-amber-700",children:["Actualmente:",a.is_open?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-5 w-5"}),"Abierto"]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-5 w-5"}),"Cerrado"]})," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-purple-200 bg-purple-50 p-3",children:[e.jsx("div",{className:"text-purple-700",children:e.jsx(A,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] leading-tight font-semibold text-purple-800 uppercase",children:"Métodos de Pago"}),e.jsx("p",{className:"text-sm font-normal text-purple-800",children:n.payments})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsxs("a",{href:a.use_whatsapp?`https://wa.me/${h(a.phone)}`:`tel:${a.phone}`,className:"flex items-center justify-center gap-2 rounded-lg bg-purple-600 p-1 text-sm font-semibold text-white shadow-sm transition-transform active:scale-95",children:[a.use_whatsapp?e.jsx(E,{className:"h-4 w-4"}):e.jsx($,{className:"h-4 w-4"}),"WhatsApp"]}),e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.address)}`,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 p-1 text-sm font-semibold text-white shadow-sm transition-transform active:scale-95",children:[e.jsx(M,{className:"h-4 w-4"}),"Mapa"]})]})]})]})}),e.jsx("div",{className:"lg:col-span-8 xl:col-span-8",children:e.jsxs(v,{defaultValue:"products",className:"w-full",children:[e.jsxs(N,{className:"sticky top-14 z-40 mb-4 inline-flex w-full items-center justify-start gap-2 rounded-lg border border-purple-100 bg-purple-50 p-1.5 sm:w-auto",children:[e.jsxs(m,{value:"products",className:"flex items-center gap-2 rounded-lg px-4 py-3 text-sm font-semibold transition-all data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-purple-700 data-[state=inactive]:hover:bg-purple-100",children:[e.jsx(_,{className:"h-4 w-4"}),"Menú"]}),e.jsxs(m,{value:"main",className:"flex items-center gap-2 rounded-lg px-4 py-3 text-sm font-semibold transition-all data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-purple-700 data-[state=inactive]:hover:bg-purple-100",children:[e.jsx(I,{className:"h-4 w-4"}),"Información"]})]}),e.jsx(d,{value:"products",className:"duration-300 animate-in outline-none fade-in zoom-in-95",children:e.jsx(y,{business:a})}),e.jsx(d,{value:"main",className:"duration-300 animate-in outline-none fade-in zoom-in-95",children:e.jsx(b,{business:a})})]})})]})})})})}export{ge as default};
