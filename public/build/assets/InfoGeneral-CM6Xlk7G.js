import{u as S,j as e}from"./vendor-core-VmliHTPN.js";import{a as w}from"./card-Nn_fXJt4.js";import{I as _}from"./input-pk9gV_sk.js";import{L as o}from"./label-Du_iRzIw.js";import{S as k}from"./switch-DlSZNd6D.js";import{T as B}from"./textarea-BmKvYVVQ.js";import{m as T}from"./dashboard-layout-DctQTAKd.js";import{y as d}from"./index-DdSA57g9.js";import{LayoutBusinessModules as L}from"./LayoutBusinessModules-BaadMert.js";import{useToggleList as m,SectionHeader as E,CardBase as I,Field as p,FeatureSection as u,AvailabilitySection as z}from"./index-DEJYrTRf.js";import{a as D,L as F,C as A,W as G}from"./vendor-icons-AXEXEb4U.js";import"./utils-DA-8Si8A.js";import"./vendor-ui-BLZZ21YU.js";import"./button-QYsVwpqb.js";import"./dropdown-menu-CWFYYrp0.js";import"./index-BCw_eWvc.js";import"./index-CVASjcgI.js";import"./badge-a4yW8hz7.js";function se({business:s,categories:g,payments:h,amenities:x}){const f=T({text:"Información general",url:"#"}),i="mb-1 block text-[10px] font-semibold uppercase tracking-widest text-gray-500 leading-tight",r="h-9 w-full rounded-lg border-purple-200 bg-white px-3 text-sm text-gray-700 shadow-sm transition focus:border-purple-600 focus:ring-1 focus:ring-purple-600/20 font-normal",j=S({name:s?.name??"",phone:s?.phone??"",slogan:s?.slogan??"",description:s?.description??"",category_id:s?.category_id??"",amenities:(s?.amenities??[]).map(a=>Number(a.id)),payments:(s?.payments??[]).map(a=>Number(a.id)),schedules:s?.schedules??[],tags:"",use_whatsapp:s?.use_whatsapp??!1}),{data:l,setData:t,put:b,processing:N}=j,v=()=>{b(`/dashboard/business/${s.id}-${s.slug}/info-general/`,{preserveScroll:!0,onSuccess:()=>d.success("Módulo actualizado"),onError:()=>d.error("Error al guardar")})},y=(x??[]).filter(a=>!!a.id).map(a=>({id:Number(a.id),name:a.name})),C=(h??[]).filter(a=>!!a.id).map(a=>({id:Number(a.id),name:a.name})),n=m(l.amenities,a=>t("amenities",a)),c=m(l.payments,a=>t("payments",a));return e.jsxs(L,{titleHead:"Findy Business",headerTitle:s?.name||"Cargando…",headerDescription:"Gestión técnica de metadatos y disponibilidad.",buttonText:"Guardar cambios",icon:D,onSubmit:v,processing:N,breadcrumbs:f,children:[e.jsxs("div",{className:"space-y-6 lg:col-span-8",children:[e.jsxs("section",{className:"mb-4",children:[e.jsx(E,{icon:e.jsx(F,{size:14,className:"text-purple-700"}),title:"Información general"}),e.jsx(I,{className:"rounded-lg border-purple-200 bg-purple-50/10 shadow-sm",children:e.jsx(w,{className:"p-3",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(p,{label:"Nombre comercial",value:l.name,onChange:a=>t("name",a),labelClass:i,inputClass:r}),e.jsxs("div",{children:[e.jsx(o,{className:i,children:"Categoría"}),e.jsxs("select",{value:l.category_id,onChange:a=>t("category_id",a.target.value),className:`${r} appearance-none`,children:[e.jsx("option",{value:"",children:"Seleccionar…"}),g.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(p,{label:"Eslogan o frase publicitaria",value:l.slogan,onChange:a=>t("slogan",a),full:!0,labelClass:i,inputClass:r})}),e.jsx("div",{className:"sm:col-span-2",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(o,{className:i,children:"Teléfono de contacto"}),e.jsx(_,{value:l.phone,onChange:a=>t("phone",a.target.value),type:"tel",maxLength:10,placeholder:"Ej: 5551234567",className:r})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{className:i,children:"WhatsApp Business"}),e.jsxs("div",{className:"flex h-9 w-full items-center justify-between rounded-lg border border-purple-200 bg-purple-50 px-3 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-[10px] leading-tight font-semibold tracking-tight text-purple-700 uppercase",children:l.use_whatsapp?"Habilitado":"Deshabilitado"})}),e.jsx(k,{checked:l.use_whatsapp,onCheckedChange:a=>t("use_whatsapp",a),className:"scale-75 transition-transform active:scale-95 data-[state=checked]:bg-purple-600"})]})]})]})}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(o,{className:i,children:"Descripción detallada"}),e.jsx(B,{value:l.description,onChange:a=>t("description",a.target.value),className:"min-h-[100px] rounded-lg border-purple-200 p-3 text-sm font-normal shadow-sm focus:border-purple-600 focus:ring-1 focus:ring-purple-600/20"})]})]})})})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsx(u,{title:"Amenidades",icon:e.jsx(A,{size:14,className:"text-purple-600"}),items:y,toggle:n.toggle,isSelected:n.isSelected}),e.jsx(u,{title:"Cobro",icon:e.jsx(G,{size:14,className:"text-purple-700"}),items:C,toggle:c.toggle,isSelected:c.isSelected})]})]}),e.jsx("div",{className:"space-y-6 lg:col-span-4",children:e.jsx(z,{schedules:l.schedules,setSchedules:a=>t("schedules",a)})})]})}export{se as default};
