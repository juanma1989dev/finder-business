import{r as d,j as e,d as p}from"./vendor-core-VmliHTPN.js";import{B as m}from"./button-UqOExDgN.js";import{P as x,a as u,f as i,b as h,C as g,e as b}from"./popover-DOd03Iwh.js";import{u as f}from"./useOrderStatus-GqTjcJ4U.js";import{D as j}from"./dashboard-layout-r_HPZSjW.js";import{r as N,s as y,e as v,B as w}from"./vendor-icons-DuiFzXC9.js";import"./vendor-ui-g7ZgVefF.js";import"./utils-CXBz3L1W.js";import"./dropdown-menu-DU8L8uPh.js";import"./index-CN9EY2cw.js";import"./index-CVASjcgI.js";import"./index-BU_B9Ap-.js";import"./index-CJCtTEqR.js";function H({breadcrumbs:a,orders:t,filters:l}){const[r,o]=d.useState(l?.date?new Date(`${l.date}T00:00:00`):new Date);console.log({date:r});const[n]=d.useState(null),c=s=>{s&&(o(s),p.get("/dashboard/delivery",{date:i(s,"yyyy-MM-dd")},{preserveState:!0,replace:!0}))};return e.jsx(j,{breadcrumbs:a,children:e.jsxs("div",{className:"flex min-h-screen flex-col gap-4 bg-purple-50/30 p-4 lg:p-6",children:[e.jsx("div",{className:"mb-2",children:e.jsx("h1",{className:"text-base font-semibold tracking-tight text-gray-700 uppercase",children:"Historial de pedidos"})}),e.jsx("div",{className:"flex flex-col gap-3 rounded-lg border border-purple-200 bg-white p-3 shadow-sm md:flex-row md:items-center",children:e.jsxs(x,{children:[e.jsx(u,{asChild:!0,children:e.jsxs(m,{variant:"outline",className:"w-full justify-start gap-2 text-left font-normal md:w-64",children:[e.jsx(N,{className:"h-4 w-4 text-purple-600"}),r?i(r,"PPP",{locale:b}):e.jsx("span",{className:"text-gray-400",children:"Selecciona una fecha"})]})}),e.jsx(h,{className:"w-auto p-0",align:"start",children:e.jsx(g,{mode:"single",selected:r,onSelect:c})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.length===0?e.jsx(C,{}):t.map(s=>e.jsx(D,{pedido:s,isProcessing:n===s.id},s.id))})]})})}function D({pedido:a,isProcessing:t}){const{labels:l}=f(),r=a.status;return e.jsxs("div",{className:`relative flex flex-col rounded-lg border border-purple-200 bg-white shadow-sm transition-all hover:shadow-md ${t?"animate-pulse":""}`,children:[t&&e.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-white/60 backdrop-blur-sm",children:e.jsx(v,{className:"h-6 w-6 animate-spin text-purple-600"})}),e.jsxs("div",{className:"space-y-4 p-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"rounded-lg border border-purple-100 bg-purple-50 p-2",children:e.jsx(w,{className:"h-4 w-4 text-purple-700"})}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-[10px] font-semibold text-gray-500 uppercase",children:["ID #",a.id]}),e.jsx("p",{className:"text-sm font-semibold text-purple-800",children:a.user?.name??"Cliente"})]})]}),e.jsx("span",{className:"rounded-lg border border-amber-200 bg-amber-50 px-2 py-1 text-[10px] font-semibold text-amber-700 uppercase",children:l[r]})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("span",{className:"text-base font-semibold text-gray-700",children:["$",a.total]})})]})]})}function C(){return e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-purple-100 bg-white py-16 text-center",children:[e.jsx("div",{className:"mb-4 rounded-lg bg-purple-50 p-4 text-gray-300 shadow-sm",children:e.jsx(y,{size:32})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-700 uppercase",children:"No hay pedidos por mostrar"}),e.jsx("p",{className:"mt-1 text-[10px] tracking-widest text-gray-500 uppercase",children:"Los pedidos de ese día aparecerán aquí."})]})}export{H as default};
