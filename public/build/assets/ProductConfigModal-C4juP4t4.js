import{r as o,j as e}from"./vendor-core-exSyXSqW.js";import{X as f}from"./vendor-icons-C0rekE6d.js";const v=({product:t,onConfirm:x,onClose:c})=>{const[i,m]=o.useState([]),[a,b]=o.useState(null),[d,u]=o.useState(""),g=s=>{m(r=>r.some(l=>l.id===s.id)?r.filter(l=>l.id!==s.id):[...r,s])},p=t.variations?.length>0,n=p&&!a,h=Number(t.price)+(a?Number(a.price):0)+i.reduce((s,r)=>s+Number(r.price),0);return e.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-gray-900/40 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full max-w-[420px] overflow-hidden rounded-lg bg-white shadow-2xl duration-200 animate-in fade-in zoom-in",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-purple-50 px-6 py-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-700 uppercase",children:"Personalizar pedido"}),e.jsx("p",{className:"text-sm font-semibold text-purple-800",children:t.name})]}),e.jsx("button",{onClick:c,className:"rounded-lg bg-gray-50 p-2 text-gray-500 transition-colors hover:bg-purple-50 hover:text-purple-700",children:e.jsx(f,{size:18})})]}),e.jsxs("div",{className:"scrollbar-hide max-h-[60vh] space-y-4 overflow-y-auto px-6 py-4",children:[p&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"mb-3 text-[10px] font-semibold tracking-widest text-gray-700 uppercase",children:["Selecciona una opción",e.jsx("span",{className:"ml-1 text-purple-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.variations.map(s=>{const r=a?.id===s.id;return e.jsxs("button",{type:"button",onClick:()=>b(s),className:`flex items-center justify-between rounded-lg border-2 px-4 py-3 transition-all active:scale-95 ${r?"border-purple-600 bg-purple-50 text-purple-800":"border-purple-50 bg-white text-gray-600 hover:border-purple-100"}`,children:[e.jsx("span",{className:"text-sm font-semibold",children:s.name}),e.jsx("span",{className:"text-sm font-normal",children:Number(s.price)>0?`+ $${s.price}`:"Incluido"})]},s.id)})}),n&&e.jsx("div",{className:"mt-2 rounded-lg border border-amber-200 bg-amber-50 p-2",children:e.jsx("p",{className:"text-center text-[10px] leading-tight font-semibold text-amber-700 uppercase",children:"Selecciona una opción para continuar"})})]}),t.extras?.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-3 text-[10px] font-semibold tracking-widest text-gray-700 uppercase",children:"¿Deseas agregar extras?"}),e.jsx("div",{className:"flex flex-col gap-2",children:t.extras.map(s=>{const r=i.some(l=>l.id===s.id);return e.jsxs("button",{type:"button",onClick:()=>g(s),className:`flex items-center justify-between rounded-lg border px-4 py-3 transition-all ${r?"border-purple-600 bg-purple-50 text-purple-700":"border-purple-200 bg-white text-gray-600 hover:bg-purple-50/50"}`,children:[e.jsx("span",{className:"text-sm font-normal",children:s.name}),e.jsxs("span",{className:"text-sm font-semibold",children:["+ $",s.price]})]},s.id)})})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("p",{className:"mb-1 text-[10px] font-semibold tracking-widest text-gray-700 uppercase",children:"Notas adicionales"}),e.jsx("textarea",{value:d,onChange:s=>u(s.target.value),placeholder:"Ej: Sin aderezos, cambiar por...",className:"h-20 w-full resize-none rounded-lg border border-purple-200 bg-white p-3 text-sm font-normal text-gray-600 transition-colors focus:border-purple-600 focus:outline-none"})]})]}),e.jsx("div",{className:"border-t border-purple-50 bg-white p-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:c,className:"flex-1 rounded-lg px-4 py-3 text-sm font-semibold text-gray-500 transition-all hover:bg-gray-50 active:scale-95",children:"Volver"}),e.jsxs("button",{disabled:n,onClick:()=>x({extras:i,variations:a?[a]:[],notes:d}),className:`flex-[2] rounded-lg py-3 text-sm font-semibold text-white shadow-sm transition-all active:scale-95 ${n?"cursor-not-allowed bg-gray-300":"bg-purple-600 hover:bg-purple-700"}`,children:["Confirmar — $",h.toFixed(2)]})]})})]})})};export{v as ProductConfigModal};
