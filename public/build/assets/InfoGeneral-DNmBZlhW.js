import{u as S,j as e}from"./vendor-core-CVn978f7.js";import{a as w}from"./card-CIre8WR5.js";import{I as _}from"./input-CfCOPfo4.js";import{L as o}from"./label-CLYoN36p.js";import{S as k}from"./switch-D4iXip2W.js";import{T as B}from"./textarea-d77tuyuW.js";import{m as T}from"./dashboard-layout-DBIvlQ1a.js";import{y as d}from"./index-CZyFl0Li.js";import{LayoutBusinessModules as L}from"./LayoutBusinessModules-DwXDoHCj.js";import{useToggleList as m,SectionHeader as E,CardBase as I,Field as p,FeatureSection as u,AvailabilitySection as z}from"./index-zVghaZUS.js";import{d as D,L as F,e as A,W as G}from"./vendor-icons-BvP0H4xj.js";import"./utils-szUE-hBx.js";import"./vendor-ui-CpttHis2.js";import"./button--cW8-JAs.js";import"./dropdown-menu-BbU8JRam.js";import"./index-CN9EY2cw.js";import"./index-CVASjcgI.js";import"./index-BU_B9Ap-.js";import"./ProviderLayout-Adcfx3ho.js";import"./firebase-B2pyU7xz.js";import"./badge-_BaJUTop.js";function ie({business:a,categories:g,payments:h,amenities:x}){const f=T({text:"Información general",url:"#"}),i="mb-1 block text-[10px] font-semibold uppercase tracking-widest text-gray-500 leading-tight",r="h-9 w-full rounded-lg border-purple-200 bg-white px-3 text-sm text-gray-700 shadow-sm transition focus:border-purple-600 focus:ring-1 focus:ring-purple-600/20 font-normal",j=S({name:a?.name??"",phone:a?.phone??"",slogan:a?.slogan??"",description:a?.description??"",category_id:a?.category_id??"",amenities:(a?.amenities??[]).map(s=>Number(s.id)),payments:(a?.payments??[]).map(s=>Number(s.id)),schedules:a?.schedules??[],tags:"",use_whatsapp:a?.use_whatsapp??!1}),{data:l,setData:t,put:b,processing:N}=j,v=()=>{b(`/dashboard/business/${a.id}-${a.slug}/info-general/`,{preserveScroll:!0,onSuccess:()=>d.success("Módulo actualizado"),onError:()=>d.error("Error al guardar")})},y=(x??[]).filter(s=>!!s.id).map(s=>({id:Number(s.id),name:s.name})),C=(h??[]).filter(s=>!!s.id).map(s=>({id:Number(s.id),name:s.name})),n=m(l.amenities,s=>t("amenities",s)),c=m(l.payments,s=>t("payments",s));return e.jsxs(L,{titleHead:"Findy Business",headerTitle:a?.name||"Cargando…",headerDescription:"Gestión técnica de metadatos y disponibilidad.",buttonText:"Guardar cambios",icon:D,onSubmit:v,processing:N,breadcrumbs:f,children:[e.jsxs("div",{className:"space-y-6 lg:col-span-8",children:[e.jsxs("section",{className:"mb-4",children:[e.jsx(E,{icon:e.jsx(F,{size:14,className:"text-purple-700"}),title:"Información general"}),e.jsx(I,{className:"rounded-lg border-purple-200 bg-purple-50/10 shadow-sm",children:e.jsx(w,{className:"p-3",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(p,{label:"Nombre comercial",value:l.name,onChange:s=>t("name",s),labelClass:i,inputClass:r}),e.jsxs("div",{children:[e.jsx(o,{className:i,children:"Categoría"}),e.jsxs("select",{value:l.category_id,onChange:s=>t("category_id",s.target.value),className:`${r} appearance-none`,children:[e.jsx("option",{value:"",children:"Seleccionar…"}),g.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(p,{label:"Eslogan o frase publicitaria",value:l.slogan,onChange:s=>t("slogan",s),full:!0,labelClass:i,inputClass:r})}),e.jsx("div",{className:"sm:col-span-2",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(o,{className:i,children:"Teléfono de contacto"}),e.jsx(_,{value:l.phone,onChange:s=>t("phone",s.target.value),type:"tel",maxLength:10,placeholder:"Ej: 5551234567",className:r})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{className:i,children:"WhatsApp Business"}),e.jsxs("div",{className:"flex h-9 w-full items-center justify-between rounded-lg border border-purple-200 bg-purple-50 px-3 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-[10px] leading-tight font-semibold tracking-tight text-purple-700 uppercase",children:l.use_whatsapp?"Habilitado":"Deshabilitado"})}),e.jsx(k,{checked:l.use_whatsapp,onCheckedChange:s=>t("use_whatsapp",s),className:"scale-75 transition-transform active:scale-95 data-[state=checked]:bg-purple-600"})]})]})]})}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(o,{className:i,children:"Descripción detallada"}),e.jsx(B,{value:l.description,onChange:s=>t("description",s.target.value),className:"min-h-[100px] rounded-lg border-purple-200 p-3 text-sm font-normal shadow-sm focus:border-purple-600 focus:ring-1 focus:ring-purple-600/20"})]})]})})})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsx(u,{title:"Amenidades",icon:e.jsx(A,{size:14,className:"text-purple-600"}),items:y,toggle:n.toggle,isSelected:n.isSelected}),e.jsx(u,{title:"Cobro",icon:e.jsx(G,{size:14,className:"text-purple-700"}),items:C,toggle:c.toggle,isSelected:c.isSelected})]})]}),e.jsx("div",{className:"space-y-6 lg:col-span-4",children:e.jsx(z,{schedules:l.schedules,setSchedules:s=>t("schedules",s)})})]})}export{ie as default};
