import{r as c,j as e,a as f,b as m,L as h}from"./app-DRnaFo71.js";import{L as w}from"./index-Dgc8qQOq.js";import{a as y,L as g,H as b,U as j,b as v,M as C,d as N,e as k,C as S}from"./clsx-COCWedHH.js";import{X as z}from"./x-BkmaQkV6.js";import{H as L}from"./house-BvvIOFlQ.js";import{L as O}from"./loader-circle-DK9NHL9l.js";import{CartFloatButton as M}from"./CartFloatButton-D4EB0M0C.js";import{CartDrawer as E}from"./drawer-cart-3Fke6IOU.js";function F({user:a,className:s}){const[o,r]=c.useState(!1),t=c.useRef(null),[n,i]=c.useState(!1);c.useEffect(()=>{const l=x=>{t.current&&(t.current.contains(x.target)||r(!1))};return document.addEventListener("click",l),()=>document.removeEventListener("click",l)},[]);function d(){f.post("/logout",{},{onStart:()=>i(!0),onFinish:()=>i(!1)})}return e.jsx("div",{className:`flex items-center ${s}`,children:e.jsxs("div",{ref:t,className:"relative",children:[e.jsxs("button",{onClick:()=>r(l=>!l),className:`flex items-center gap-2 rounded-full border p-1 transition-all duration-300 ${o?"border-purple-200 bg-purple-50 shadow-md":"border-gray-200 bg-white hover:border-purple-200 hover:shadow-sm"}`,children:[e.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-gradient-to-tr from-purple-600 to-purple-400 text-[13px] font-bold text-white shadow-inner",children:a?.name?.charAt(0).toUpperCase()}),e.jsx("span",{className:"hidden pr-1 text-sm font-bold text-gray-700 md:block",children:a?.name.split(" ")[0]}),e.jsx(y,{className:`h-4 w-4 text-gray-400 transition-transform duration-300 ${o?"rotate-180":""}`})]}),o&&e.jsxs("div",{className:"absolute right-0 z-50 mt-3 w-64 origin-top-right rounded-[1.5rem] border border-gray-100 bg-white p-2 shadow-2xl ring-1 shadow-purple-900/10 ring-black/5 transition-all",children:[e.jsxs("div",{className:"mb-1 border-b border-gray-50 px-4 py-3",children:[e.jsx("p",{className:"text-[10px] font-bold tracking-widest text-gray-400 uppercase",children:"Cuenta"}),e.jsx("p",{className:"truncate text-sm font-extrabold text-gray-800",children:a?.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("a",{href:"/dashboard",className:"flex items-center gap-3 rounded-xl px-4 py-2.5 text-sm font-semibold text-gray-600 transition-colors hover:bg-purple-50 hover:text-purple-700",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:"Panel de Control"})]}),e.jsxs("a",{href:"/favorites",className:"flex items-center gap-3 rounded-xl px-4 py-2.5 text-sm font-semibold text-gray-600 transition-colors hover:bg-orange-50 hover:text-orange-700",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:"Mis Favoritos"})]}),e.jsxs("a",{href:"/profile",className:"flex items-center gap-3 rounded-xl px-4 py-2.5 text-sm font-semibold text-gray-600 transition-colors hover:bg-purple-50 hover:text-purple-700",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:"Ajustes del Perfil"})]})]}),e.jsx("div",{className:"mt-2 border-t border-gray-50 pt-2",children:e.jsxs("button",{onClick:d,disabled:n,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-2.5 text-sm font-bold text-white shadow-lg shadow-orange-200 transition-all hover:from-orange-600 hover:to-orange-700 active:scale-[0.98] disabled:opacity-70",children:[n?e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}):e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:n?"Saliendo...":"Cerrar sesión"})]})})]})]})})}function I(){const{auth:a}=m().props,{user:s}=a;return e.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-purple-100 bg-white/80",children:e.jsx("div",{className:"mx-auto max-w-7xl px-3",children:e.jsxs("div",{className:"flex h-13 items-center justify-between gap-2",children:[e.jsx("div",{className:"hidden items-center gap-1 md:flex",children:e.jsxs(h,{href:"/",className:"group flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-purple-600 shadow-md transition-transform group-active:scale-90 sm:h-9 sm:w-9",children:e.jsx("span",{className:"text-lg font-bold text-white",children:"F"})}),e.jsx("h1",{className:"text-sm font-black tracking-tight text-purple-900 sm:text-base",children:"Findy"})]})}),e.jsxs("div",{className:"hidden flex-1 items-center justify-end gap-1.5 sm:gap-4 md:flex",children:[e.jsxs("a",{href:"https://forms.gle/NT3EPoh1VyRUuQKG6",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 rounded-xl border border-purple-100 bg-purple-50/50 p-2 text-sm font-bold text-purple-700 transition-all hover:bg-purple-100 active:scale-95 sm:px-3 sm:py-1.5",children:[e.jsx(C,{className:"h-5 w-5 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden md:inline",children:"Sugerencias"})]}),s?e.jsx(F,{user:s}):e.jsxs(h,{href:"/accounts",className:"group flex items-center gap-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:bg-purple-700 active:scale-95",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:"Entrar"})]})]})]})})})}function A(){const{auth:a}=m().props,{user:s}=a,{url:o}=m(),[r,t]=c.useState(!1),[n,i]=c.useState(!1),d=()=>{f.post("/logout",{},{onStart:()=>i(!0),onFinish:()=>{i(!1),t(!1)}})},l=u=>u==="/"?o==="/":o.startsWith(u),x=()=>t(!r);return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:x,className:"fixed top-2 left-2 z-[60] flex h-8 w-8 items-center justify-center rounded-xl border border-gray-300 bg-white text-purple-600 shadow-lg transition-transform active:scale-90 md:hidden",children:r?e.jsx(z,{size:24}):e.jsx(k,{size:20})}),r&&e.jsx("div",{className:"fixed inset-0 z-[51] bg-slate-900/40 backdrop-blur-sm md:hidden",onClick:x}),e.jsx("nav",{className:`fixed top-0 left-0 z-[55] h-full w-[250px] transform bg-white transition-transform duration-300 md:hidden ${r?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"bg-gray-50/50 p-6 pt-8",children:s&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-gradient-to-tr from-purple-600 to-purple-400 text-lg font-bold text-white shadow-lg",children:s.name?.charAt(0).toUpperCase()}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"truncate text-sm font-extrabold text-gray-800",children:s.name}),e.jsx("p",{className:"truncate text-[11px] font-medium tracking-wider text-gray-400 uppercase",children:s.email})]})]})}),e.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto p-4",children:[e.jsx("p",{className:"px-4 pb-2 text-[10px] font-bold tracking-[0.2em] text-gray-400 uppercase",children:"Menú Principal"}),e.jsx(p,{href:"/",icon:e.jsx(L,{size:16}),label:"Inicio",active:l("/"),onClick:()=>t(!1)}),s&&e.jsxs(e.Fragment,{children:[e.jsx(p,{href:"/dashboard",icon:e.jsx(g,{size:16}),label:"Panel de Control",active:l("/dashboard"),onClick:()=>t(!1)}),e.jsx(p,{href:"/favorites",icon:e.jsx(b,{size:16}),label:"Mis Favoritos",active:l("/favorites"),onClick:()=>t(!1),variant:"orange"}),e.jsx(p,{href:"/profile",icon:e.jsx(j,{size:16}),label:"Ajustes Perfil",active:l("/profile"),onClick:()=>t(!1)})]})]}),e.jsx("div",{className:"border-t border-gray-100 p-4",children:s?e.jsxs("button",{onClick:d,disabled:n,className:"flex w-full items-center justify-center gap-3 rounded-2xl bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-3.5 text-sm font-bold text-white shadow-lg shadow-orange-200 transition-all active:scale-[0.97] disabled:opacity-70",children:[n?e.jsx(O,{size:18,className:"animate-spin"}):e.jsx(v,{size:18}),e.jsx("span",{children:n?"Saliendo...":"CERRAR SESIÓN"})]}):e.jsxs(h,{href:"/login",onClick:()=>t(!1),className:"flex w-full items-center justify-center gap-2 rounded-2xl bg-purple-600 px-2 py-1.5 text-sm font-bold text-white shadow-lg shadow-purple-200",children:[e.jsx(N,{size:18}),e.jsx("span",{children:"ENTRAR A MI CUENTA"})]})})]})})]})}function p({href:a,icon:s,label:o,active:r,onClick:t,variant:n="purple"}){const i={purple:"bg-purple-50 text-purple-700 border-purple-100",orange:"bg-orange-50 text-orange-700 border-orange-100"};return e.jsxs(h,{href:a,onClick:t,className:`group flex items-center justify-between rounded-xl border border-transparent px-4 py-3 transition-all duration-200 active:scale-[0.98] ${r?i[n]:"text-gray-500 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`${r?"scale-110":"text-gray-400 group-hover:text-gray-600"}`,children:s}),e.jsx("span",{className:"text-sm font-bold tracking-tight uppercase",children:o})]}),r&&e.jsx(S,{size:14,className:"opacity-40"})]})}function q({children:a,showFloatShoppingCart:s=!0}){const[o,r]=c.useState(!1),{cart:t,auth:n}=m().props,i=Object.values(t),d=n?.user,l=i.length;return e.jsxs("main",{className:"relative z-10 mx-auto min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx(w,{position:"top-right",className:"!z-[9999]",autoClose:1800}),e.jsx(I,{}),e.jsx("div",{className:"relative z-10 w-full max-w-6xl p-1 md:mx-auto md:max-w-7xl",children:a}),d&&e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed right-4 bottom-24 z-[40] md:right-8 md:bottom-8",children:e.jsx(M,{totalItems:l,onClick:()=>r(!0)})}),e.jsx(E,{isOpen:o,onClose:()=>r(!1)})]}),e.jsx(A,{})]})}export{q as M};
