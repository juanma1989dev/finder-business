import{j as e,H as d,d as o}from"./vendor-core-CVn978f7.js";import{M as x}from"./main-layout-D8k80jl2.js";import{H as u,V as m}from"./vendor-icons-BvP0H4xj.js";import"./index-CZyFl0Li.js";import"./vendor-ui-CpttHis2.js";import"./index-BU_B9Ap-.js";import"./firebase-B2pyU7xz.js";import"./CartFloatButton-BQZCgCMY.js";import"./drawer-cart-DypxYsUP.js";import"./ProviderLayout-Adcfx3ho.js";function _({order:s}){const i=new Date(s.created_at).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=t=>Number(t).toFixed(2),c=s.items.reduce((t,n)=>t+n.quantity,0),p=t=>{switch(t.toLowerCase()){case"completado":case"entregado":return"bg-green-100 text-green-700";case"pendiente":return"bg-amber-100 text-amber-700";case"cancelado":return"bg-red-100 text-red-700";default:return"bg-purple-100 text-purple-700"}};return e.jsxs(x,{children:[e.jsx(d,{title:`Orden #${s.id}`}),e.jsx("div",{className:"flex justify-center bg-purple-50/30 py-12 print:bg-white",children:e.jsxs("div",{className:"w-[380px] overflow-hidden rounded-xl border border-purple-100 bg-white shadow-sm print:border-none print:shadow-none",children:[e.jsx("div",{className:"bg-purple-600 px-5 py-5 text-white",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] tracking-widest uppercase opacity-80",children:["Orden #",s.id]}),e.jsxs("p",{className:"mt-2 text-3xl font-semibold tracking-tight",children:["$",r(s.total)]})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-[10px] tracking-widest text-gray-500 uppercase",children:[e.jsx("span",{children:i}),e.jsx("span",{className:`rounded-full px-2 py-1 text-[9px] font-semibold ${p(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"mt-4 text-[10px] tracking-widest text-gray-400 uppercase",children:[c," productos en esta orden"]}),e.jsx("div",{className:"mt-6 space-y-5",children:s.items?.map(t=>{const n=Number(t.total_price)/t.quantity;return e.jsxs("div",{className:"space-y-2 border-b border-purple-50 pb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm font-semibold text-gray-800",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[t.quantity,"×"," ",t.product_name]}),e.jsxs("p",{className:"text-[10px] font-normal text-gray-400",children:["Precio unitario: $",r(n)]})]}),e.jsxs("span",{className:"text-purple-800",children:["$",r(t.total_price)]})]}),(t.variations?.length>0||t.extras?.length>0||t.notes)&&e.jsxs("div",{className:"space-y-1 border-l border-purple-100 pl-3 text-[10px] text-gray-500 uppercase",children:[t.variations?.map(a=>e.jsxs("p",{children:["• ",a.variation_name]},a.id)),t.extras?.map(a=>e.jsxs("p",{children:["+ ",a.extra_name]},a.id)),t.notes&&e.jsxs("p",{className:"text-gray-400 normal-case italic",children:['"',t.notes,'"']})]})]},t.id)})}),e.jsxs("div",{className:"mt-8 space-y-2 border-t border-dashed border-purple-100 pt-5",children:[e.jsx(l,{label:"Subtotal",value:s.subtotal}),e.jsx(l,{label:"Envío",value:s.shipping}),e.jsxs("div",{className:"mt-4 flex justify-between text-base font-semibold text-gray-900",children:[e.jsx("span",{className:"text-[11px] tracking-widest uppercase",children:"Total Final"}),e.jsxs("span",{className:"text-xl text-purple-900",children:["$",r(s.total)]})]})]}),e.jsxs("button",{onClick:()=>o.visit("/"),className:"mt-8 flex w-full items-center justify-center gap-2 rounded-lg bg-purple-600 py-3 text-[11px] font-semibold tracking-widest text-white uppercase transition-all hover:bg-purple-700 active:scale-95 print:hidden",children:[e.jsx(u,{size:14}),"Volver al inicio"]}),e.jsxs("button",{onClick:()=>window.print(),className:"mt-4 flex w-full items-center justify-center gap-2 rounded-lg bg-purple-50 py-3 text-[11px] font-semibold tracking-widest text-purple-700 uppercase transition-all hover:bg-purple-100 active:scale-95 print:hidden",children:[e.jsx(m,{size:14}),"Imprimir ticket"]}),e.jsx("div",{className:"mt-6 text-center text-[10px] tracking-widest text-gray-400 uppercase",children:"Gracias por su compra"})]})]})})]})}function l({label:s,value:i}){return e.jsxs("div",{className:"flex justify-between text-[11px] tracking-widest text-gray-500 uppercase",children:[e.jsx("span",{children:s}),e.jsxs("span",{className:"font-semibold text-gray-700",children:["$",Number(i).toFixed(2)]})]})}export{_ as default};
