import{j as e}from"./vendor-core-VmliHTPN.js";import{u as m}from"./useOrderStatus-GqTjcJ4U.js";import{e as b,R as u,v as g,c as f}from"./vendor-icons-1nBL8bh1.js";var a=(s=>(s.PENDING="pending",s.CONFIRMED="confirmed",s.READY_FOR_PICKUP="ready_for_pickup",s.PICKED_UP="picked_up",s.ON_THE_WAY="on_the_way",s.DELIVERED="delivered",s.CANCELLED="cancelled",s.REJECTED="rejected",s))(a||{});function h({order:s,priority:p,loading:i,onChangeStatus:d}){const{flow:o,labels:n}=m(),r=s.status,c=o[r]??[],l=r===a.PENDING&&s.minutes_waiting>10;return console.log({order:s}),e.jsxs("div",{className:`relative flex flex-col rounded-lg bg-white p-3 shadow-sm transition-all duration-900 ${p?"animate-pulse border-2 border-purple-600 ring-4 ring-purple-50 hover:animate-none":"border border-purple-100"}`,children:[i&&e.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-white/60 backdrop-blur-sm",children:e.jsx(b,{className:"h-6 w-6 animate-spin text-purple-600"})}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] leading-tight font-semibold tracking-widest text-gray-400 uppercase",children:["#",s.id]}),e.jsx("p",{className:"text-sm leading-tight font-semibold text-purple-800",children:s.user?.name??""})]}),e.jsx("span",{className:"flex items-center rounded-lg border border-purple-100 bg-purple-50 px-2 py-1 text-[10px] font-semibold text-purple-700 uppercase",children:n[r]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(u,{className:`h-3.5 w-3.5 ${l?"text-amber-600":"text-gray-400"}`}),e.jsxs("span",{className:`text-[11px] font-semibold ${l?"text-amber-700":"text-gray-600"}`,children:[s.minutes_waiting??0," MIN"]}),l&&e.jsxs("div",{className:"ml-1 flex items-center gap-1 rounded border border-amber-100 bg-amber-50 px-1.5 py-0.5",children:[e.jsx(g,{className:"h-3 w-3 text-amber-600"}),e.jsx("span",{className:"text-[9px] font-bold tracking-tighter text-amber-700 uppercase",children:"Retrasado"})]})]}),e.jsxs("span",{className:"text-base font-semibold text-gray-700",children:["$",s.total]})]}),c.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.map(t=>{const x=t===a.CANCELLED||t===a.REJECTED;return e.jsx("button",{disabled:i,onClick:()=>d(s.id,t),className:`flex-1 rounded-lg py-2.5 text-xs font-semibold text-white shadow-sm transition-all active:scale-95 ${x?"bg-amber-600 hover:bg-amber-700":"bg-purple-600 hover:bg-purple-700"}`,children:n[t]},t)})}),r===a.READY_FOR_PICKUP&&e.jsx("div",{className:"mt-4 flex flex-col items-center gap-2 rounded-lg border border-purple-100 bg-purple-50 px-3 py-3 text-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-semibold tracking-wider text-purple-700 uppercase",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{children:"Esperando al repartidor"})]})})]})}const v=Object.freeze(Object.defineProperty({__proto__:null,default:h},Symbol.toStringTag,{value:"Module"}));export{a as O,h as a,v as b};
