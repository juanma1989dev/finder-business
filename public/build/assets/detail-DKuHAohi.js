import{r as u,e as g,j as e,L as f,d as j}from"./vendor-core-VmliHTPN.js";import{T as N,a as v,b as d,c as m}from"./tabs-k4bvDazV.js";import{M as w}from"./main-layout-qXTMFjlm.js";import{T as b}from"./index-BU_B9Ap-.js";import{y as n}from"./index-CJCtTEqR.js";import{InfoBusinessTab as y}from"./info-tab-RVwr660-.js";import{ProductsBussinessTab as C}from"./products-tab-BvQdqiEF.js";import{J as E,j as L,V as k,x as T,Z as $,_ as D,$ as _,a0 as A,a1 as S,E as I,b as M,q as P}from"./vendor-icons-DuiFzXC9.js";import"./vendor-ui-g7ZgVefF.js";import"./utils-CXBz3L1W.js";import"./drawer-cart-BDVCsk79.js";import"./CartFloatButton-DfWwaknc.js";import"./ProductConfigModal-BJWdmeR5.js";const B=a=>{const i="Horario no disponible";if(!a?.schedules||!Array.isArray(a.schedules)||a.schedules.length===0)return i;const t=new Date,o=t.getDay()===0?7:t.getDay(),r=a.schedules.find(l=>l.day==o);return r?`${r.open} hrs - ${r.close} hrs`:i};function Q({business:a,favorite:i}){const[t,o]=u.useState(i),{auth:r}=g().props,l=r.user,c={payments:a.payments.length===0?"Sin métodos de pago registrados.":a.payments.map(s=>s.name).join(" | "),schedul:B(a)},p=()=>{navigator.clipboard.writeText(`${window.location.origin}/detail/${a.id}`).then(()=>n.success("Enlace copiado al portapapeles")).catch(()=>n.error("Error al copiar"))},x=()=>{if(!l)return n.info("Inicia sesión para guardar favoritos");const s=!t;o(s),j.post("/business/detail/set-favorite",{id_user:l.id,id_business:a.id,favorite:s},{onError:()=>o(!s)})},h=s=>s?"52"+s.trim():"";return e.jsx(w,{children:e.jsx("div",{className:"min-h-screen bg-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-3 py-4 sm:px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-12",children:[e.jsx("div",{className:"lg:col-span-4 xl:col-span-4",children:e.jsxs("div",{className:"space-y-4 lg:sticky lg:top-20",children:[e.jsxs("div",{className:"relative h-48 w-full overflow-hidden rounded-lg border border-purple-200 shadow-sm sm:h-64 lg:aspect-[4/3] lg:h-auto",children:[e.jsx("img",{src:a.cover_image?`/storage/${a.cover_image}`:`/images/${a.category?.image}`,className:"h-full w-full object-cover transition-transform duration-500 hover:scale-105",alt:a.name}),e.jsxs("div",{className:"absolute inset-x-3 top-3 flex justify-between",children:[e.jsx(f,{href:"/",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-gray-700 shadow-sm backdrop-blur-sm transition-all active:scale-95",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:p,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-gray-700 shadow-sm backdrop-blur-sm transition-all active:scale-95",children:e.jsx(L,{className:"h-4 w-4"})}),l.type===b.CLIENT&&e.jsx("button",{onClick:x,className:`flex h-9 w-9 items-center justify-center rounded-lg shadow-sm backdrop-blur-sm transition-all active:scale-95 ${t?"bg-purple-600 text-white":"bg-white/90 text-gray-700"}`,children:e.jsx(k,{className:`h-4 w-4 ${t?"fill-current":""}`})})]})]})]}),e.jsxs("div",{className:"space-y-2 p-1",children:[e.jsxs("div",{className:"mb-3 flex flex-col gap-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"rounded-md bg-purple-50 px-2 py-0.5 text-[10px] font-semibold tracking-wide text-purple-700 uppercase",children:a.category?.name})}),e.jsx("h1",{className:"text-xl font-semibold tracking-tight text-purple-800 sm:text-2xl",children:a.name})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[e.jsx("div",{className:"mr-3 text-amber-600",children:e.jsx(T,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm leading-tight font-semibold text-amber-700 uppercase",children:"Horario de referencia(Puede variar)"}),e.jsx("p",{className:"text-sm font-normal text-amber-700",children:c.schedul}),e.jsxs("p",{className:"mt-3 flex items-center gap-2 text-sm font-normal text-amber-700",children:["Actualmente:",a.is_open?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-5 w-5"}),"Abierto"]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-5 w-5"}),"Cerrado"]})," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-purple-200 bg-purple-50 p-3",children:[e.jsx("div",{className:"text-purple-700",children:e.jsx(_,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] leading-tight font-semibold text-purple-800 uppercase",children:"Métodos de Pago"}),e.jsx("p",{className:"text-sm font-normal text-purple-800",children:c.payments})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsxs("a",{href:a.use_whatsapp?`https://wa.me/${h(a.phone)}`:`tel:${a.phone}`,className:"flex items-center justify-center gap-2 rounded-lg bg-purple-600 p-1 text-sm font-semibold text-white shadow-sm transition-transform active:scale-95",children:[a.use_whatsapp?e.jsx(A,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"}),"WhatsApp"]}),e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.address)}`,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 p-1 text-sm font-semibold text-white shadow-sm transition-transform active:scale-95",children:[e.jsx(I,{className:"h-4 w-4"}),"Mapa"]})]})]})]})}),e.jsx("div",{className:"lg:col-span-8 xl:col-span-8",children:e.jsxs(N,{defaultValue:"products",className:"w-full",children:[e.jsxs(v,{className:"sticky top-14 z-40 mb-4 inline-flex w-full items-center justify-start gap-2 rounded-lg border border-purple-100 bg-purple-50 p-1.5 sm:w-auto",children:[e.jsxs(d,{value:"products",className:"flex items-center gap-2 rounded-lg px-4 py-3 text-sm font-semibold transition-all data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-purple-700 data-[state=inactive]:hover:bg-purple-100",children:[e.jsx(M,{className:"h-4 w-4"}),"Menú"]}),e.jsxs(d,{value:"main",className:"flex items-center gap-2 rounded-lg px-4 py-3 text-sm font-semibold transition-all data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-purple-700 data-[state=inactive]:hover:bg-purple-100",children:[e.jsx(P,{className:"h-4 w-4"}),"Información"]})]}),e.jsx(m,{value:"products",className:"duration-300 animate-in outline-none fade-in zoom-in-95",children:e.jsx(C,{business:a})}),e.jsx(m,{value:"main",className:"duration-300 animate-in outline-none fade-in zoom-in-95",children:e.jsx(y,{business:a})})]})})]})})})})}export{Q as default};
