import{r as f,e as w,j as e,L as N,d as b}from"./vendor-core-exSyXSqW.js";import{T as y,a as v,b as m,c as x}from"./tabs-CQj0A8yx.js";import{M as k}from"./main-layout-XgZxIlet.js";import{T as h}from"./index-BU_B9Ap-.js";import{y as o}from"./index-zdFYkwEh.js";import{InfoBusinessTab as C}from"./info-tab-Ct4jJXez.js";import{ProductsBussinessTab as $}from"./products-tab-qcPtRtj9.js";import{J as E,j as g,V as u,D as L,Z as T,_ as D,$ as _,a0 as S,a1 as A,E as I,b as M,q as B}from"./vendor-icons-C0rekE6d.js";import"./vendor-ui-BC6GVMXR.js";import"./utils-ZvPxgyVA.js";import"./drawer-cart-DmonbQGW.js";import"./CartFloatButton-CwmvMEWj.js";import"./ProductConfigModal-C4juP4t4.js";const P=s=>{const c="Horario no disponible";if(!s?.schedules||s.schedules.length===0)return c;const a=new Date,i=a.getDay()===0?7:a.getDay(),l=s.schedules.find(r=>r.day==i);return l?`${l.open} hrs - ${l.close} hrs`:c};function Q({business:s,favorite:c}){const[a,i]=f.useState(c),{auth:l}=w().props,r=l.user,n={payments:s.payments.length===0?"Sin métodos de pago registrados.":s.payments.map(t=>t.name).join(" | "),schedul:P(s)},d=()=>{navigator.clipboard.writeText(`${window.location.origin}/business/${s.slug}/${s.id}`).then(()=>o.success("Enlace copiado al portapapeles")).catch(()=>o.error("Error al copiar"))},p=()=>{if(!r)return o.info("Inicia sesión para guardar favoritos");const t=!a;i(t),b.post("/business/detail/set-favorite",{id_user:r.id,id_business:s.id,favorite:t},{onError:()=>i(!t)})},j=t=>t?"52"+t.trim():"";return e.jsx(k,{children:e.jsx("div",{className:"min-h-screen bg-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-3 py-4 sm:px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-12",children:[e.jsx("div",{className:"lg:col-span-4",children:e.jsxs("div",{className:"space-y-5 lg:sticky lg:top-20",children:[e.jsxs("div",{className:"relative h-32 w-full overflow-hidden rounded-lg border border-purple-200 shadow-sm sm:h-64 lg:aspect-[4/3] lg:h-auto",children:[e.jsx("img",{src:s.cover_image?`/storage/${s.cover_image}`:`/images/${s.category?.image}`,className:"h-full w-full object-cover transition-transform duration-500 hover:scale-105",alt:s.name}),e.jsx(N,{href:"/",className:"absolute top-3 left-3 flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-gray-700 shadow-sm backdrop-blur-sm transition-all active:scale-95",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsxs("div",{className:"absolute top-3 right-3 hidden gap-2 sm:flex",children:[e.jsx("button",{onClick:d,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-gray-700 shadow-sm backdrop-blur-sm transition-all active:scale-95",children:e.jsx(g,{className:"h-4 w-4"})}),r?.type===h.CLIENT&&e.jsx("button",{onClick:p,className:`flex h-9 w-9 items-center justify-center rounded-lg shadow-sm backdrop-blur-sm transition-all active:scale-95 ${a?"bg-purple-600 text-white":"bg-white/90 text-gray-700"}`,children:e.jsx(u,{className:`h-4 w-4 ${a?"fill-current":""}`})})]})]}),e.jsx("div",{className:"space-y-3 px-1 sm:hidden",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"inline-block rounded-md bg-purple-50 px-2 py-0.5 text-[10px] font-semibold tracking-wide text-purple-700 uppercase",children:s.category?.name}),e.jsx("h1",{className:"text-xl font-semibold tracking-tight text-purple-800",children:s.name})]}),e.jsxs("div",{className:"flex gap-2 pt-1",children:[e.jsx("button",{onClick:d,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-white text-gray-700 shadow-sm transition-all active:scale-95",children:e.jsx(g,{className:"h-4 w-4"})}),r?.type===h.CLIENT&&e.jsx("button",{onClick:p,className:`flex h-9 w-9 items-center justify-center rounded-lg shadow-sm transition-all active:scale-95 ${a?"bg-purple-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(u,{className:`h-4 w-4 ${a?"fill-current":""}`})})]})]})}),e.jsxs("div",{className:"hidden space-y-1 px-1 sm:block",children:[e.jsx("span",{className:"inline-block rounded-md bg-purple-50 px-2 py-0.5 text-[10px] font-semibold tracking-wide text-purple-700 uppercase",children:s.category?.name}),e.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-purple-800",children:s.name})]}),e.jsxs("div",{className:"space-y-3 px-1",children:[e.jsxs("div",{className:"flex gap-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[e.jsx(L,{className:"h-5 w-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-amber-700 uppercase",children:"Horario de referencia"}),e.jsx("p",{className:"text-xs text-amber-700",children:n.schedul}),e.jsxs("p",{className:"mt-2 flex items-center gap-2 text-xs text-amber-700",children:["Actualmente:",s.is_open?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4"}),"Abierto"]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-4 w-4"}),"Cerrado"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 rounded-lg border border-purple-200 bg-purple-50 p-3",children:[e.jsx(_,{className:"h-5 w-5 text-purple-700"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-semibold text-purple-800 uppercase",children:"Métodos de Pago"}),e.jsx("p",{className:"text-sm text-purple-800",children:n.payments})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[e.jsxs("a",{href:s.use_whatsapp?`https://wa.me/${j(s.phone)}`:`tel:${s.phone}`,className:"flex items-center justify-center gap-2 rounded-lg bg-purple-600 p-1 text-sm font-semibold text-white shadow-sm transition-transform active:scale-95",children:[s.use_whatsapp?e.jsx(S,{className:"h-4 w-4"}):e.jsx(A,{className:"h-4 w-4"}),"WhatsApp"]}),e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.address)}`,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 p-1 text-sm font-semibold text-white shadow-sm transition-transform active:scale-95",children:[e.jsx(I,{className:"h-4 w-4"}),"Mapa"]})]})]})]})}),e.jsx("div",{className:"lg:col-span-8",children:e.jsxs(y,{defaultValue:"products",className:"w-full",children:[e.jsxs(v,{className:"sticky top-12 z-40 mb-4 inline-flex w-full gap-2 rounded-lg border border-purple-100 bg-purple-50 p-1.5 sm:w-auto",children:[e.jsxs(m,{value:"products",className:"gap-2 px-4 py-3",children:[e.jsx(M,{className:"h-4 w-4"}),"Menú"]}),e.jsxs(m,{value:"main",className:"gap-2 px-4 py-3",children:[e.jsx(B,{className:"h-4 w-4"}),"Información"]})]}),e.jsx(x,{value:"products",children:e.jsx($,{business:s})}),e.jsx(x,{value:"main",children:e.jsx(C,{business:s})})]})})]})})})})}export{Q as default};
