import{l as y}from"./app-Dpu3mrQQ.js";import{r as c,G as d}from"./vendor-core-exSyXSqW.js";function T(t,n){const e=c.useRef(n);c.useEffect(function(){n!==e.current&&t.attributionControl!=null&&(e.current!=null&&t.attributionControl.removeAttribution(e.current),n!=null&&t.attributionControl.addAttribution(n)),e.current=n},[t,n])}const H=1;function j(t){return Object.freeze({__version:H,map:t})}function A(t,n){return Object.freeze({...t,...n})}const L=c.createContext(null);function S(){const t=c.use(L);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function h(t){function n(e,r){const{instance:u,context:a}=t(e).current;c.useImperativeHandle(r,()=>u);const{children:i}=e;return i==null?null:d.createElement(L,{value:a},i)}return c.forwardRef(n)}function N(t){function n(e,r){const{instance:u}=t(e).current;return c.useImperativeHandle(r,()=>u),null}return c.forwardRef(n)}function _(t,n){const e=c.useRef(void 0);c.useEffect(function(){return n!=null&&t.instance.on(n),e.current=n,function(){e.current!=null&&t.instance.off(e.current),e.current=null}},[t,n])}function x(t,n){const e=t.pane??n.pane;return e?{...t,pane:e}:t}function R(t,n,e){return Object.freeze({instance:t,context:n,container:e})}function b(t,n){return n==null?function(r,u){const a=c.useRef(void 0);return a.current||(a.current=t(r,u)),a}:function(r,u){const a=c.useRef(void 0);a.current||(a.current=t(r,u));const i=c.useRef(r),{instance:l}=a.current;return c.useEffect(function(){i.current!==r&&(n(l,r,i.current),i.current=r)},[l,r,n]),a}}function k(t,n){c.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function g(t){return function(e){const r=S(),u=t(x(e,r),r);return T(r.map,e.attribution),_(u.current,e.eventHandlers),k(u.current,r),u}}function G(t,n){const e=b(t,n),r=g(e);return h(r)}function V(t,n){const e=b(t,n),r=g(e);return N(r)}function Z(t,n,e){const{opacity:r,zIndex:u}=n;r!=null&&r!==e.opacity&&t.setOpacity(r),u!=null&&u!==e.zIndex&&t.setZIndex(u)}function B({bounds:t,boundsOptions:n,center:e,children:r,className:u,id:a,placeholder:i,style:l,whenReady:s,zoom:C,...I},O){const[v]=c.useState({className:u,id:a,style:l}),[o,w]=c.useState(null),m=c.useRef(void 0);c.useImperativeHandle(O,()=>o?.map??null,[o]);const M=c.useCallback(E=>{if(E!==null&&!m.current){const f=new y.Map(E,I);m.current=f,e!=null&&C!=null?f.setView(e,C):t!=null&&f.fitBounds(t,n),s!=null&&f.whenReady(s),w(j(f))}},[]);c.useEffect(()=>()=>{o?.map.remove()},[o]);const z=o?d.createElement(L,{value:o},r):i??null;return d.createElement("div",{...v,ref:M},z)}const q=c.forwardRef(B),D=G(function({position:n,...e},r){const u=new y.Marker(n,e);return R(u,A(r,{overlayContainer:u}))},function(n,e,r){e.position!==r.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),F=V(function({url:n,...e},r){const u=new y.TileLayer(n,x(e,r));return R(u,r)},function(n,e,r){Z(n,e,r);const{url:u}=e;u!=null&&u!==r.url&&n.setUrl(u)});export{q as M,F as T,D as a,S as u};
