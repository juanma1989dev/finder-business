import{r as c,G as m,j as d}from"./vendor-core-CVn978f7.js";import{l as E}from"./app-CQrnIAdu.js";function H(e,n){const t=c.useRef(n);c.useEffect(function(){n!==t.current&&e.attributionControl!=null&&(t.current!=null&&e.attributionControl.removeAttribution(t.current),n!=null&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}const T=1;function z(e){return Object.freeze({__version:T,map:e})}function q(e,n){return Object.freeze({...e,...n})}const C=c.createContext(null);function x(){const e=c.use(C);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function S(e){function n(t,r){const{instance:u,context:o}=e(t).current;c.useImperativeHandle(r,()=>u);const{children:a}=t;return a==null?null:m.createElement(C,{value:o},a)}return c.forwardRef(n)}function A(e){function n(t,r){const{instance:u}=e(t).current;return c.useImperativeHandle(r,()=>u),null}return c.forwardRef(n)}function N(e,n){const t=c.useRef(void 0);c.useEffect(function(){return n!=null&&e.instance.on(n),t.current=n,function(){t.current!=null&&e.instance.off(t.current),t.current=null}},[e,n])}function R(e,n){const t=e.pane??n.pane;return t?{...e,pane:t}:e}function g(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function v(e,n){return n==null?function(r,u){const o=c.useRef(void 0);return o.current||(o.current=e(r,u)),o}:function(r,u){const o=c.useRef(void 0);o.current||(o.current=e(r,u));const a=c.useRef(r),{instance:l}=o.current;return c.useEffect(function(){a.current!==r&&(n(l,r,a.current),a.current=r)},[l,r,n]),o}}function k(e,n){c.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function b(e){return function(t){const r=x(),u=e(R(t,r),r);return H(r.map,t.attribution),N(u.current,t.eventHandlers),k(u.current,r),u}}function D(e,n){const t=v(e,n),r=b(t);return S(r)}function _(e,n){const t=v(e,n),r=b(t);return A(r)}function G(e,n,t){const{opacity:r,zIndex:u}=n;r!=null&&r!==t.opacity&&e.setOpacity(r),u!=null&&u!==t.zIndex&&e.setZIndex(u)}function F(){return x().map}function V({bounds:e,boundsOptions:n,center:t,children:r,className:u,id:o,placeholder:a,style:l,whenReady:s,zoom:L,...w},h){const[j]=c.useState({className:u,id:o,style:l}),[i,I]=c.useState(null),y=c.useRef(void 0);c.useImperativeHandle(h,()=>i?.map??null,[i]);const M=c.useCallback(p=>{if(p!==null&&!y.current){const f=new E.Map(p,w);y.current=f,t!=null&&L!=null?f.setView(t,L):e!=null&&f.fitBounds(e,n),s!=null&&f.whenReady(s),I(z(f))}},[]);c.useEffect(()=>()=>{i?.map.remove()},[i]);const O=i?m.createElement(C,{value:i},r):a??null;return m.createElement("div",{...j,ref:M},O)}const B=c.forwardRef(V),U=_(function({url:n,...t},r){const u=new E.TileLayer(n,R(t,r));return g(u,r)},function(n,t,r){G(n,t,r);const{url:u}=t;u!=null&&u!==r.url&&n.setUrl(u)});function J({center:e,zoom:n=16,children:t,scrollWheelZoom:r=!1,className:u}){return d.jsx("div",{className:u??"h-full w-full",children:d.jsxs(B,{center:e,zoom:n,scrollWheelZoom:r,style:{height:"100%",width:"100%"},attributionControl:!1,children:[d.jsx(U,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"Â© OpenStreetMap contributors"}),t]})})}export{J as M,g as a,D as c,q as e,F as u};
